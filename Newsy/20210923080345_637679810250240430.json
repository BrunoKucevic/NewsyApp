{"EventType":"NewsyDbContext","EntityFrameworkEvent":{"Database":"newsy","ConnectionId":"e6661916-fac2-4fe0-9a61-1d87aa652a95","ContextId":"9f68b26f-7d78-44eb-82f0-80840af645ea:0","TransactionId":"e6661916-fac2-4fe0-9a61-1d87aa652a95_236223201281","Entries":[{"Table":"AppUserRoles","Name":"AppUserRole","PrimaryKey":{"UserId":"8b4898ed-828d-4f1a-a47a-2d10c40a2097","RoleId":"2de02010-b551-4362-adb3-a5bbcf25eebb"},"Action":"Insert","ColumnValues":{"UserId":"8b4898ed-828d-4f1a-a47a-2d10c40a2097","RoleId":"2de02010-b551-4362-adb3-a5bbcf25eebb"},"Valid":true}],"Result":0,"Success":false,"ErrorMessage":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_AppUserRoles_AppUsers_UserId\". The conflict occurred in database \"newsy\", table \"dbo.AppUsers\", column 'Id'.\r\nThe statement has been terminated.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\nClientConnectionId:e6661916-fac2-4fe0-9a61-1d87aa652a95\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Audit.EntityFramework.DbContextHelper.SaveChangesAsync(IAuditDbContext context, Func`1 baseSaveChanges)"},"Environment":{"UserName":"Brunc","MachineName":"DESKTOP-N7RN9HE","DomainName":"DESKTOP-N7RN9HE","CallingMethodName":"Audit.EntityFramework.DbContextHelper+<CreateAuditScopeAsync>d__31.MoveNext()","AssemblyName":"Audit.EntityFramework.Core, Version=18.1.5.0, Culture=neutral, PublicKeyToken=571d6b80b242c87e","Exception":"COMException: 0xE0434352","Culture":"en-GB"},"StartDate":"2021-09-23T08:03:44.849646Z","EndDate":"2021-09-23T08:03:45.0223657Z","Duration":173}